<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site de Exploração de Localização com Mapa Interativo</title>
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./css/main.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/4pdf@2.5.1/dist/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <img src="./img/londublis-logo.png" alt="Logo Light" class="logo-img light-logo" />
                        <img src="./img/londublis-logo-dark.png" alt="Logo Dark" class="logo-img dark-logo" />
                    </div>
                </div>
                <nav class="nav-desktop">
                    <button
                      class="nav-item"
                      onclick="showPage('home')"
                      data-page="home"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-house"
                        aria-hidden="true"
                      >
                        <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"></path>
                        <path
                          d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"
                        ></path>
                      </svg>
                      <span>Home</span>
                    </button>
                    <button
                      class="nav-item"
                      onclick="showPage('how-it-works')"
                      data-page="how-it-works"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-info"
                        aria-hidden="true"
                      >
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M12 16v-4"></path>
                        <path d="M12 8h.01"></path>
                      </svg>
                      <span>Como Funciona</span>
                    </button>
                    <button
                      class="nav-item"
                      onclick="showPage('contact')"
                      data-page="contact"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-phone"
                        aria-hidden="true"
                      >
                        <path
                          d="M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384"
                        ></path>
                      </svg>
                      <span>Contato</span>
                    </button>
                  </nav>
              
                  <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                    <span class="hamburger"></span>
                  </button>
                </div>
            
                <nav class="nav-mobile" id="mobileNav">
                  <button
                    class="nav-item-mobile"
                    onclick="showPage('home')"
                    data-page="home"
                  >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-house"
                        aria-hidden="true"
                      >
                        <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"></path>
                        <path
                          d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"
                        ></path>
                      </svg>
                    <span>Home</span>
                  </button>
                  <button
                    class="nav-item-mobile"
                    onclick="showPage('how-it-works')"
                    data-page="how-it-works"
                  >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-info"
                        aria-hidden="true"
                      >
                        <circle cx="12" cy="12" r="10"></circle>
                        <path d="M12 16v-4"></path>
                        <path d="M12 8h.01"></path>
                      </svg>
                    <span>Como Funciona</span>
                  </button>
                  <button
                    class="nav-item-mobile"
                    onclick="showPage('contact')"
                    data-page="contact"
                  >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="lucide lucide-phone"
                        aria-hidden="true"
                      >
                        <path
                          d="M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384"
                        ></path>
                      </svg>
                    <span>Contato</span>
                  </button>
                </nav>
                <div class="search-info" id="searchInfo"></div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Search Section -->
            <section class="search-section">
                <div class="search-header">
                    <h2>Descubra sua região</h2>
                    <p>Pesquise por endereços, coordenadas ou códigos postais e explore os pontos de interesse e dados detalhados da região.</p>
                </div>
                
                <form class="search-form" id="searchForm">
                    <div class="search-input-container">
                        <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                            <circle cx="12" cy="10" r="3"/>
                        </svg>
                        <input 
                            type="text" 
                            id="inputPesquisa"
                            name="query"
                            placeholder="Digite um endereço, coordenadas ou código postal..."
                            class="search-input"
                        >
                        <button type="submit" class="search-button" id="searchButton">
                            <svg class="search-btn-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"/>
                                <path d="m21 21-4.35-4.35"/>
                            </svg>
                        </button>
                    </div>
                </form>
            </section>

            <!-- Loading State -->
            <div class="loading" id="loading" style="display: none;">
                <div class="loading-content">
                    <div class="spinner"></div>
                    <span>Carregando dados da região...</span>
                </div>
            </div>

            <!-- Welcome State -->
            <div class="welcome" id="welcome">
                <div class="welcome-content">
                    <div class="welcome-icon">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                            <circle cx="12" cy="10" r="3"/>
                        </svg>
                    </div>
                    <h3>Comece sua exploração</h3>
                    <p>Digite um endereço ou localização no campo de busca acima para descobrir os pontos de interesse e dados da região.</p>
                </div>
            </div>

            <!-- Results Content -->
            <div class="results" id="results" style="display: none;">
                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn btn-primary" id="generateReport">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7,10 12,15 17,10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        Gerar Relatório PDF
                    </button>

                    <button class="btn btn-secondary" id="themeToggle">
                        <svg class="theme-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                        </svg>
                        <span class="theme-text">Tema Escuro</span>
                    </button>

                    <div class="poi-counter">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                            <polyline points="10,9 9,9 8,9"/>
                        </svg>
                        <span id="poiCount">0 POIs encontrados</span>
                    </div>
                </div>

                <!-- Map and POI List -->
                <div class="content-grid">
                    <div class="map-section">
                        <div class="section-header">
                            <h3>Mapa Interativo</h3>
                            <p>Clique nos ícones para ver detalhes dos pontos de interesse</p>
                        </div>
                        <div class="map-container" id="mapContainer">
                            <!-- Map will be generated here -->
                        </div>
                    </div>

                    <div class="sidebar">
                        <div class="poi-list" id="poiList">
                            <!-- POI list will be generated here -->
                        </div>
                    </div>
                </div>

                <!-- Region Stats -->
                <div class="region-stats" id="regionStats">
                    <!-- Region stats will be generated here -->
                </div>

                <!-- Selected POI Details -->
                <div class="selected-poi" id="selectedPoi" style="display: none;">
                    <!-- Selected POI details will be shown here -->
                </div>
            </div>
        </div>
    </main>

    <!-- Chatbot Container -->
    <div class="chatbot-container" id="chatbotContainer">
      <!-- Chatbot Toggle Button -->
      <button class="chatbot-toggle" id="chatbotToggle">
        <span class="toggle-icon">💬</span>
        <span class="toggle-text">Ajuda</span>
        <div class="notification-badge" id="notificationBadge">1</div>
      </button>

      <!-- Chatbot Window -->
      <div class="chatbot-window" id="chatbotWindow">
        <div class="chatbot-header">
          <div class="chatbot-avatar">🤖</div>
          <div class="chatbot-info">
            <h3>Assistente</h3>
            <span class="status online">Online</span>
          </div>
          <button class="chatbot-close" id="chatbotClose">×</button>
        </div>

        <div class="chatbot-messages" id="chatbotMessages">
          <div class="message bot-message">
            <div class="message-avatar">🤖</div>
            <div class="message-content">
              <p>Olá! Como posso ajudar-te hoje? 😊</p>
              <p>Estou aqui para responder a dúvidas sobre imóveis e pontos de interesse.</p>
              <div class="message-time">agora</div>
            </div>
          </div>
        </div>

        <div class="typing-indicator" id="typingIndicator">
          <div class="typing-avatar">🤖</div>
          <div class="typing-dots">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>

        <div class="quick-actions" id="quickActions">
          <button class="quick-action" data-action="search">🔍 Pesquisar Imóveis</button>
          <button class="quick-action" data-action="pois">📍 Pontos de Interesse</button>
          <button class="quick-action" data-action="pdf">📄 Relatórios PDF</button>
          <button class="quick-action" data-action="help">❓ Ajuda</button>
        </div>

        <div class="chatbot-input-container">
          <div class="chatbot-input">
            <input type="text" id="messageInput" placeholder="Digite a sua mensagem...">
            <button id="sendButton" class="send-button">
              <span class="send-icon">➤</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>© 2025 Explorador de Localização. Desenvolvido com HTML, CSS e JavaScript.</p>
        </div>
    </footer>

    <script src="./js/index.js"></script>
    <script src="./js/chatbot-data.js"></script>
    <script src="./js/chatbot-responses.js"></script>
    <script src="./js/chatbot-ui.js"></script>
    <script src="./js/chatbot-main.js"></script>
    <script src="./js/main.js"></script>
</body>
</html>